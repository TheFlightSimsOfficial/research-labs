/*! For license information please see 651.ccdd4de1ad64c436976d.js.LICENSE.txt */
(self.webpackChunk_jupytercad_jupytercad_extension=self.webpackChunk_jupytercad_jupytercad_extension||[]).push([[651],{9378:e=>{"use strict";e.exports=function e(r,t){if(r===t)return!0;if(r&&t&&"object"==typeof r&&"object"==typeof t){if(r.constructor!==t.constructor)return!1;var o,n,a;if(Array.isArray(r)){if((o=r.length)!=t.length)return!1;for(n=o;0!=n--;)if(!e(r[n],t[n]))return!1;return!0}if(r.constructor===RegExp)return r.source===t.source&&r.flags===t.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===t.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===t.toString();if((o=(a=Object.keys(r)).length)!==Object.keys(t).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(t,a[n]))return!1;for(n=o;0!=n--;){var i=a[n];if(!e(r[i],t[i]))return!1}return!0}return r!=r&&t!=t}},2854:function(e,r){!function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var o=r.length-1,n=1;n<o;++n)r[n]=r[n].slice(1,-1);return r[o]=r[o].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function o(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function n(e){return e.toUpperCase()}function a(e){var o="[A-Za-z]",n="[0-9]",a=r(n,"[A-Fa-f]"),i=t(t("%[EFef]"+a+"%"+a+a+"%"+a+a)+"|"+t("%[89A-Fa-f]"+a+"%"+a+a)+"|"+t("%"+a+a)),s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",u=r("[\\:\\/\\?\\#\\[\\]\\@]",s),c=e?"[\\uE000-\\uF8FF]":"[]",p=r(o,n,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),f=t(o+r(o,n,"[\\+\\-\\.]")+"*"),h=t(t(i+"|"+r(p,s,"[\\:]"))+"*"),l=(t(t("25[0-5]")+"|"+t("2[0-4]"+n)+"|"+t("1"+n+n)+"|"+t("[1-9]"+n)+"|"+n),t(t("25[0-5]")+"|"+t("2[0-4]"+n)+"|"+t("1"+n+n)+"|"+t("0?[1-9]"+n)+"|0?0?"+n)),v=t(l+"\\."+l+"\\."+l+"\\."+l),d=t(a+"{1,4}"),g=t(t(d+"\\:"+d)+"|"+v),m=t(t(d+"\\:")+"{6}"+g),E=t("\\:\\:"+t(d+"\\:")+"{5}"+g),y=t(t(d)+"?\\:\\:"+t(d+"\\:")+"{4}"+g),C=t(t(t(d+"\\:")+"{0,1}"+d)+"?\\:\\:"+t(d+"\\:")+"{3}"+g),S=t(t(t(d+"\\:")+"{0,2}"+d)+"?\\:\\:"+t(d+"\\:")+"{2}"+g),w=t(t(t(d+"\\:")+"{0,3}"+d)+"?\\:\\:"+d+"\\:"+g),b=t(t(t(d+"\\:")+"{0,4}"+d)+"?\\:\\:"+g),A=t(t(t(d+"\\:")+"{0,5}"+d)+"?\\:\\:"+d),D=t(t(t(d+"\\:")+"{0,6}"+d)+"?\\:\\:"),O=t([m,E,y,C,S,w,b,A,D].join("|")),x=t(t(p+"|"+i)+"+"),N=(t(O+"\\%25"+x),t(O+t("\\%25|\\%(?!"+a+"{2})")+x)),I=t("[vV]"+a+"+\\."+r(p,s,"[\\:]")+"+"),_=t("\\["+t(N+"|"+O+"|"+I)+"\\]"),F=t(t(i+"|"+r(p,s))+"*"),R=t(_+"|"+v+"(?!"+F+")|"+F),T=t(n+"*"),P=t(t(h+"@")+"?"+R+t("\\:"+T)+"?"),j=t(i+"|"+r(p,s,"[\\:\\@]")),q=t(j+"*"),H=t(j+"+"),U=t(t(i+"|"+r(p,s,"[\\@]"))+"+"),z=t(t("\\/"+q)+"*"),L=t("\\/"+t(H+z)+"?"),$=t(U+z),k=t(H+z),V="(?!"+j+")",M=(t(z+"|"+L+"|"+$+"|"+k+"|"+V),t(t(j+"|"+r("[\\/\\?]",c))+"*")),Z=t(t(j+"|[\\/\\?]")+"*"),G=t(t("\\/\\/"+P+z)+"|"+L+"|"+k+"|"+V),Q=t(f+"\\:"+G+t("\\?"+M)+"?"+t("\\#"+Z)+"?"),Y=t(t("\\/\\/"+P+z)+"|"+L+"|"+$+"|"+V),B=t(Y+t("\\?"+M)+"?"+t("\\#"+Z)+"?");return t(Q+"|"+B),t(f+"\\:"+G+t("\\?"+M)+"?"),t(t("\\/\\/("+t("("+h+")@")+"?("+R+")"+t("\\:("+T+")")+"?)")+"?("+z+"|"+L+"|"+k+"|"+V+")"),t("\\?("+M+")"),t("\\#("+Z+")"),t(t("\\/\\/("+t("("+h+")@")+"?("+R+")"+t("\\:("+T+")")+"?)")+"?("+z+"|"+L+"|"+$+"|"+V+")"),t("\\?("+M+")"),t("\\#("+Z+")"),t(t("\\/\\/("+t("("+h+")@")+"?("+R+")"+t("\\:("+T+")")+"?)")+"?("+z+"|"+L+"|"+k+"|"+V+")"),t("\\?("+M+")"),t("\\#("+Z+")"),t("("+h+")@"),t("\\:("+T+")"),{NOT_SCHEME:new RegExp(r("[^]",o,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",p,s),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",p,s),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",p,s),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",p,s),"g"),NOT_QUERY:new RegExp(r("[^\\%]",p,s,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",p,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",p,s),"g"),UNRESERVED:new RegExp(p,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",p,u),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+v+")$"),IPV6ADDRESS:new RegExp("^\\[?("+O+")"+t(t("\\%25|\\%(?!"+a+"{2})")+"("+x+")")+"?\\]?$")}}var i=a(!1),s=a(!0),u=function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],o=!0,n=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(o=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);o=!0);}catch(e){n=!0,a=e}finally{try{!o&&s.return&&s.return()}finally{if(n)throw a}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,p=36,f=/^xn--/,h=/[^\0-\x7E]/,l=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,g=String.fromCharCode;function m(e){throw new RangeError(v[e])}function E(e,r){var t=e.split("@"),o="";return t.length>1&&(o=t[0]+"@",e=t[1]),o+function(e,r){for(var t=[],o=e.length;o--;)t[o]=r(e[o]);return t}((e=e.replace(l,".")).split("."),r).join(".")}function y(e){for(var r=[],t=0,o=e.length;t<o;){var n=e.charCodeAt(t++);if(n>=55296&&n<=56319&&t<o){var a=e.charCodeAt(t++);56320==(64512&a)?r.push(((1023&n)<<10)+(1023&a)+65536):(r.push(n),t--)}else r.push(n)}return r}var C=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},S=function(e,r,t){var o=0;for(e=t?d(e/700):e>>1,e+=d(e/r);e>455;o+=p)e=d(e/35);return d(o+36*e/(e+38))},w=function(e){var r,t=[],o=e.length,n=0,a=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&m("not-basic"),t.push(e.charCodeAt(u));for(var f=s>0?s+1:0;f<o;){for(var h=n,l=1,v=p;;v+=p){f>=o&&m("invalid-input");var g=(r=e.charCodeAt(f++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:p;(g>=p||g>d((c-n)/l))&&m("overflow"),n+=g*l;var E=v<=i?1:v>=i+26?26:v-i;if(g<E)break;var y=p-E;l>d(c/y)&&m("overflow"),l*=y}var C=t.length+1;i=S(n-h,C,0==h),d(n/C)>c-a&&m("overflow"),a+=d(n/C),n%=C,t.splice(n++,0,a)}return String.fromCodePoint.apply(String,t)},b=function(e){var r=[],t=(e=y(e)).length,o=128,n=0,a=72,i=!0,s=!1,u=void 0;try{for(var f,h=e[Symbol.iterator]();!(i=(f=h.next()).done);i=!0){var l=f.value;l<128&&r.push(g(l))}}catch(e){s=!0,u=e}finally{try{!i&&h.return&&h.return()}finally{if(s)throw u}}var v=r.length,E=v;for(v&&r.push("-");E<t;){var w=c,b=!0,A=!1,D=void 0;try{for(var O,x=e[Symbol.iterator]();!(b=(O=x.next()).done);b=!0){var N=O.value;N>=o&&N<w&&(w=N)}}catch(e){A=!0,D=e}finally{try{!b&&x.return&&x.return()}finally{if(A)throw D}}var I=E+1;w-o>d((c-n)/I)&&m("overflow"),n+=(w-o)*I,o=w;var _=!0,F=!1,R=void 0;try{for(var T,P=e[Symbol.iterator]();!(_=(T=P.next()).done);_=!0){var j=T.value;if(j<o&&++n>c&&m("overflow"),j==o){for(var q=n,H=p;;H+=p){var U=H<=a?1:H>=a+26?26:H-a;if(q<U)break;var z=q-U,L=p-U;r.push(g(C(U+z%L,0))),q=d(z/L)}r.push(g(C(q,0))),a=S(n,I,E==v),n=0,++E}}}catch(e){F=!0,R=e}finally{try{!_&&P.return&&P.return()}finally{if(F)throw R}}++n,++o}return r.join("")},A={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:w,encode:b,toASCII:function(e){return E(e,(function(e){return h.test(e)?"xn--"+b(e):e}))},toUnicode:function(e){return E(e,(function(e){return f.test(e)?w(e.slice(4).toLowerCase()):e}))}},D={};function O(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function x(e){for(var r="",t=0,o=e.length;t<o;){var n=parseInt(e.substr(t+1,2),16);if(n<128)r+=String.fromCharCode(n),t+=3;else if(n>=194&&n<224){if(o-t>=6){var a=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&n)<<6|63&a)}else r+=e.substr(t,6);t+=6}else if(n>=224){if(o-t>=9){var i=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&n)<<12|(63&i)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function N(e,r){function t(e){var t=x(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,O).replace(r.PCT_ENCODED,n)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,O).replace(r.PCT_ENCODED,n)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,O).replace(r.PCT_ENCODED,n)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,O).replace(r.PCT_ENCODED,n)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,O).replace(r.PCT_ENCODED,n)),e}function I(e){return e.replace(/^0*(.*)/,"$1")||"0"}function _(e,r){var t=e.match(r.IPV4ADDRESS)||[],o=u(t,2)[1];return o?o.split(".").map(I).join("."):e}function F(e,r){var t=e.match(r.IPV6ADDRESS)||[],o=u(t,3),n=o[1],a=o[2];if(n){for(var i=n.toLowerCase().split("::").reverse(),s=u(i,2),c=s[0],p=s[1],f=p?p.split(":").map(I):[],h=c.split(":").map(I),l=r.IPV4ADDRESS.test(h[h.length-1]),v=l?7:8,d=h.length-v,g=Array(v),m=0;m<v;++m)g[m]=f[m]||h[d+m]||"";l&&(g[v-1]=_(g[v-1],r));var E=g.reduce((function(e,r,t){if(!r||"0"===r){var o=e[e.length-1];o&&o.index+o.length===t?o.length++:e.push({index:t,length:1})}return e}),[]).sort((function(e,r){return r.length-e.length}))[0],y=void 0;if(E&&E.length>1){var C=g.slice(0,E.index),S=g.slice(E.index+E.length);y=C.join(":")+"::"+S.join(":")}else y=g.join(":");return a&&(y+="%"+a),y}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function P(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},o=!1!==r.iri?s:i;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var n=e.match(R);if(n){T?(t.scheme=n[1],t.userinfo=n[3],t.host=n[4],t.port=parseInt(n[5],10),t.path=n[6]||"",t.query=n[7],t.fragment=n[8],isNaN(t.port)&&(t.port=n[5])):(t.scheme=n[1]||void 0,t.userinfo=-1!==e.indexOf("@")?n[3]:void 0,t.host=-1!==e.indexOf("//")?n[4]:void 0,t.port=parseInt(n[5],10),t.path=n[6]||"",t.query=-1!==e.indexOf("?")?n[7]:void 0,t.fragment=-1!==e.indexOf("#")?n[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?n[4]:void 0)),t.host&&(t.host=F(_(t.host,o),o)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var a=D[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||a&&a.unicodeSupport)N(t,o);else{if(t.host&&(r.domainHost||a&&a.domainHost))try{t.host=A.toASCII(t.host.replace(o.PCT_ENCODED,x).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}N(t,i)}a&&a.parse&&a.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var j=/^\.\.?\//,q=/^\/\.(\/|$)/,H=/^\/\.\.(\/|$)/,U=/^\/?(?:.|\n)*?(?=\/|$)/;function z(e){for(var r=[];e.length;)if(e.match(j))e=e.replace(j,"");else if(e.match(q))e=e.replace(q,"/");else if(e.match(H))e=e.replace(H,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(U);if(!t)throw new Error("Unexpected dot segment condition");var o=t[0];e=e.slice(o.length),r.push(o)}return r.join("")}function L(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:i,o=[],n=D[(r.scheme||e.scheme||"").toLowerCase()];if(n&&n.serialize&&n.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||n&&n.domainHost)try{e.host=r.iri?A.toUnicode(e.host):A.toASCII(e.host.replace(t.PCT_ENCODED,x).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}N(e,t),"suffix"!==r.reference&&e.scheme&&(o.push(e.scheme),o.push(":"));var a=function(e,r){var t=!1!==r.iri?s:i,o=[];return void 0!==e.userinfo&&(o.push(e.userinfo),o.push("@")),void 0!==e.host&&o.push(F(_(String(e.host),t),t).replace(t.IPV6ADDRESS,(function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(o.push(":"),o.push(String(e.port))),o.length?o.join(""):void 0}(e,r);if(void 0!==a&&("suffix"!==r.reference&&o.push("//"),o.push(a),e.path&&"/"!==e.path.charAt(0)&&o.push("/")),void 0!==e.path){var u=e.path;r.absolutePath||n&&n.absolutePath||(u=z(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),o.push(u)}return void 0!==e.query&&(o.push("?"),o.push(e.query)),void 0!==e.fragment&&(o.push("#"),o.push(e.fragment)),o.join("")}function $(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o={};return arguments[3]||(e=P(L(e,t),t),r=P(L(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(o.scheme=r.scheme,o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=z(r.path||""),o.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(o.userinfo=r.userinfo,o.host=r.host,o.port=r.port,o.path=z(r.path||""),o.query=r.query):(r.path?("/"===r.path.charAt(0)?o.path=z(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?o.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:o.path=r.path:o.path="/"+r.path,o.path=z(o.path)),o.query=r.query):(o.path=e.path,void 0!==r.query?o.query=r.query:o.query=e.query),o.userinfo=e.userinfo,o.host=e.host,o.port=e.port),o.scheme=e.scheme),o.fragment=r.fragment,o}function k(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:i.PCT_ENCODED,x)}var V={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){var t="https"===String(e.scheme).toLowerCase();return e.port!==(t?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},M={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize};function Z(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var G={scheme:"ws",domainHost:!0,parse:function(e,r){var t=e;return t.secure=Z(t),t.resourceName=(t.path||"/")+(t.query?"?"+t.query:""),t.path=void 0,t.query=void 0,t},serialize:function(e,r){if(e.port!==(Z(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var t=e.resourceName.split("?"),o=u(t,2),n=o[0],a=o[1];e.path=n&&"/"!==n?n:void 0,e.query=a,e.resourceName=void 0}return e.fragment=void 0,e}},Q={scheme:"wss",domainHost:G.domainHost,parse:G.parse,serialize:G.serialize},Y={},B="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",J="[0-9A-Fa-f]",K=t(t("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+t("%[89A-Fa-f]"+J+"%"+J+J)+"|"+t("%"+J+J)),W=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),X=new RegExp(B,"g"),ee=new RegExp(K,"g"),re=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',W),"g"),te=new RegExp(r("[^]",B,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),oe=te;function ne(e){var r=x(e);return r.match(X)?r:e}var ae={scheme:"mailto",parse:function(e,r){var t=e,o=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var n=!1,a={},i=t.query.split("&"),s=0,u=i.length;s<u;++s){var c=i[s].split("=");switch(c[0]){case"to":for(var p=c[1].split(","),f=0,h=p.length;f<h;++f)o.push(p[f]);break;case"subject":t.subject=k(c[1],r);break;case"body":t.body=k(c[1],r);break;default:n=!0,a[k(c[0],r)]=k(c[1],r)}}n&&(t.headers=a)}t.query=void 0;for(var l=0,v=o.length;l<v;++l){var d=o[l].split("@");if(d[0]=k(d[0]),r.unicodeSupport)d[1]=k(d[1],r).toLowerCase();else try{d[1]=A.toASCII(k(d[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}o[l]=d.join("@")}return t},serialize:function(e,r){var t,o=e,a=null!=(t=e.to)?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(a){for(var i=0,s=a.length;i<s;++i){var u=String(a[i]),c=u.lastIndexOf("@"),p=u.slice(0,c).replace(ee,ne).replace(ee,n).replace(re,O),f=u.slice(c+1);try{f=r.iri?A.toUnicode(f):A.toASCII(k(f,r).toLowerCase())}catch(e){o.error=o.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[i]=p+"@"+f}o.path=a.join(",")}var h=e.headers=e.headers||{};e.subject&&(h.subject=e.subject),e.body&&(h.body=e.body);var l=[];for(var v in h)h[v]!==Y[v]&&l.push(v.replace(ee,ne).replace(ee,n).replace(te,O)+"="+h[v].replace(ee,ne).replace(ee,n).replace(oe,O));return l.length&&(o.query=l.join("&")),o}},ie=/^([^\:]+)\:(.*)/,se={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(ie),o=e;if(t){var n=r.scheme||o.scheme||"urn",a=t[1].toLowerCase(),i=t[2],s=n+":"+(r.nid||a),u=D[s];o.nid=a,o.nss=i,o.path=void 0,u&&(o=u.parse(o,r))}else o.error=o.error||"URN can not be parsed.";return o},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",o=e.nid,n=t+":"+(r.nid||o),a=D[n];a&&(e=a.serialize(e,r));var i=e,s=e.nss;return i.path=(o||r.nid)+":"+s,i}},ue=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(ue)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};D[V.scheme]=V,D[M.scheme]=M,D[G.scheme]=G,D[Q.scheme]=Q,D[ae.scheme]=ae,D[se.scheme]=se,D[ce.scheme]=ce,e.SCHEMES=D,e.pctEncChar=O,e.pctDecChars=x,e.parse=P,e.removeDotSegments=z,e.serialize=L,e.resolveComponents=$,e.resolve=function(e,r,t){var o=function(e,r){var t=e;if(r)for(var o in r)t[o]=r[o];return t}({scheme:"null"},t);return L($(P(e,o),P(r,o),o,!0),o)},e.normalize=function(e,r){return"string"==typeof e?e=L(P(e,r),r):"object"===o(e)&&(e=P(L(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=L(P(e,t),t):"object"===o(e)&&(e=L(e,t)),"string"==typeof r?r=L(P(r,t),t):"object"===o(r)&&(r=L(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:i.ESCAPE,O)},e.unescapeComponent=k,Object.defineProperty(e,"__esModule",{value:!0})}(r)}}]);