"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[9877],{39877:(e,t,i)=>{i.r(t),i.d(t,{ConnectionLost:()=>r,IConnectionLost:()=>J,ILabShell:()=>j,ILabStatus:()=>K,ILayoutRestorer:()=>M,IMimeDocumentTracker:()=>E,IRouter:()=>Y,ITreePathUpdater:()=>Q,JupyterFrontEnd:()=>w,JupyterFrontEndContextMenu:()=>y,JupyterLab:()=>$,LabShell:()=>F,LayoutRestorer:()=>T,Router:()=>z,createRendermimePlugin:()=>L,createRendermimePlugins:()=>C,createSemanticCommand:()=>X});var n=i(45494),s=i(77352);const r=async function(e,t,i){const r=(i=i||s.nullTranslator).load("jupyterlab"),a=r.__("Server Connection Error"),o=r.__("A connection to the Jupyter server could not be established.\nJupyterLab will continue trying to reconnect.\nCheck your network connection or Jupyter server configuration.\n");return(0,n.showErrorMessage)(a,{message:o})};var a,o,d,l,h=i(61879),c=i(78029),u=i(42122),p=i(1745),g=i(50558),m=i(23190);!function(e){function t(e,t,i=0,n=-1){let s,r=e.length;if(0===r)return-1;i=i<0?Math.max(0,i+r):Math.min(i,r-1),s=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<i?n+1+(r-i):n-i+1;for(let n=0;n<s;++n){let s=(i+n)%r;if(e[s]===t)return s}return-1}function i(e,t,i=-1,n=0){let s,r=e.length;if(0===r)return-1;s=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))<(n=n<0?Math.max(0,n+r):Math.min(n,r-1))?i+1+(r-n):i-n+1;for(let n=0;n<s;++n){let s=(i-n+r)%r;if(e[s]===t)return s}return-1}function n(e,t,i=0,n=-1){let s,r=e.length;if(0===r)return-1;i=i<0?Math.max(0,i+r):Math.min(i,r-1),s=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<i?n+1+(r-i):n-i+1;for(let n=0;n<s;++n){let s=(i+n)%r;if(t(e[s],s))return s}return-1}function s(e,t,i=-1,n=0){let s,r=e.length;if(0===r)return-1;s=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))<(n=n<0?Math.max(0,n+r):Math.min(n,r-1))?i+1+(r-n):i-n+1;for(let n=0;n<s;++n){let s=(i-n+r)%r;if(t(e[s],s))return s}return-1}function r(e,t=0,i=-1){let n=e.length;if(!(n<=1))for(t=t<0?Math.max(0,t+n):Math.min(t,n-1),i=i<0?Math.max(0,i+n):Math.min(i,n-1);t<i;){let n=e[t],s=e[i];e[t++]=s,e[i--]=n}}function a(e,t){let i=e.length;if(t<0&&(t+=i),t<0||t>=i)return;let n=e[t];for(let n=t+1;n<i;++n)e[n-1]=e[n];return e.length=i-1,n}e.firstIndexOf=t,e.lastIndexOf=i,e.findFirstIndex=n,e.findLastIndex=s,e.findFirstValue=function(e,t,i=0,s=-1){let r=n(e,t,i,s);return-1!==r?e[r]:void 0},e.findLastValue=function(e,t,i=-1,n=0){let r=s(e,t,i,n);return-1!==r?e[r]:void 0},e.lowerBound=function(e,t,i,n=0,s=-1){let r=e.length;if(0===r)return 0;let a=n=n<0?Math.max(0,n+r):Math.min(n,r-1),o=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))-n+1;for(;o>0;){let n=o>>1,s=a+n;i(e[s],t)<0?(a=s+1,o-=n+1):o=n}return a},e.upperBound=function(e,t,i,n=0,s=-1){let r=e.length;if(0===r)return 0;let a=n=n<0?Math.max(0,n+r):Math.min(n,r-1),o=(s=s<0?Math.max(0,s+r):Math.min(s,r-1))-n+1;for(;o>0;){let n=o>>1,s=a+n;i(e[s],t)>0?o=n:(a=s+1,o-=n+1)}return a},e.shallowEqual=function(e,t,i){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,s=e.length;n<s;++n)if(i?!i(e[n],t[n]):e[n]!==t[n])return!1;return!0},e.slice=function(e,t={}){let{start:i,stop:n,step:s}=t;if(void 0===s&&(s=1),0===s)throw new Error("Slice `step` cannot be zero.");let r,a=e.length;void 0===i?i=s<0?a-1:0:i<0?i=Math.max(i+a,s<0?-1:0):i>=a&&(i=s<0?a-1:a),void 0===n?n=s<0?-1:a:n<0?n=Math.max(n+a,s<0?-1:0):n>=a&&(n=s<0?a-1:a),r=s<0&&n>=i||s>0&&i>=n?0:s<0?Math.floor((n-i+1)/s+1):Math.floor((n-i-1)/s+1);let o=[];for(let t=0;t<r;++t)o[t]=e[i+t*s];return o},e.move=function(e,t,i){let n=e.length;if(n<=1)return;if((t=t<0?Math.max(0,t+n):Math.min(t,n-1))===(i=i<0?Math.max(0,i+n):Math.min(i,n-1)))return;let s=e[t],r=t<i?1:-1;for(let n=t;n!==i;n+=r)e[n]=e[n+r];e[i]=s},e.reverse=r,e.rotate=function(e,t,i=0,n=-1){let s=e.length;if(s<=1)return;if((i=i<0?Math.max(0,i+s):Math.min(i,s-1))>=(n=n<0?Math.max(0,n+s):Math.min(n,s-1)))return;let a=n-i+1;if(t>0?t%=a:t<0&&(t=(t%a+a)%a),0===t)return;let o=i+t;r(e,i,o-1),r(e,o,n),r(e,i,n)},e.fill=function(e,t,i=0,n=-1){let s,r=e.length;if(0!==r){i=i<0?Math.max(0,i+r):Math.min(i,r-1),s=(n=n<0?Math.max(0,n+r):Math.min(n,r-1))<i?n+1+(r-i):n-i+1;for(let n=0;n<s;++n)e[(i+n)%r]=t}},e.insert=function(e,t,i){let n=e.length;t=t<0?Math.max(0,t+n):Math.min(t,n);for(let i=n;i>t;--i)e[i]=e[i-1];e[t]=i},e.removeAt=a,e.removeFirstOf=function(e,i,n=0,s=-1){let r=t(e,i,n,s);return-1!==r&&a(e,r),r},e.removeLastOf=function(e,t,n=-1,s=0){let r=i(e,t,n,s);return-1!==r&&a(e,r),r},e.removeAllOf=function(e,t,i=0,n=-1){let s=e.length;if(0===s)return 0;i=i<0?Math.max(0,i+s):Math.min(i,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);let r=0;for(let a=0;a<s;++a)i<=n&&a>=i&&a<=n&&e[a]===t||n<i&&(a<=n||a>=i)&&e[a]===t?r++:r>0&&(e[a-r]=e[a]);return r>0&&(e.length=s-r),r},e.removeFirstWhere=function(e,t,i=0,s=-1){let r,o=n(e,t,i,s);return-1!==o&&(r=a(e,o)),{index:o,value:r}},e.removeLastWhere=function(e,t,i=-1,n=0){let r,o=s(e,t,i,n);return-1!==o&&(r=a(e,o)),{index:o,value:r}},e.removeAllWhere=function(e,t,i=0,n=-1){let s=e.length;if(0===s)return 0;i=i<0?Math.max(0,i+s):Math.min(i,s-1),n=n<0?Math.max(0,n+s):Math.min(n,s-1);let r=0;for(let a=0;a<s;++a)i<=n&&a>=i&&a<=n&&t(e[a],a)||n<i&&(a<=n||a>=i)&&t(e[a],a)?r++:r>0&&(e[a-r]=e[a]);return r>0&&(e.length=s-r),r}}(a||(a={})),function(e){e.rangeLength=function(e,t,i){return 0===i?1/0:e>t&&i>0||e<t&&i<0?0:Math.ceil((t-e)/i)}}(o||(o={})),function(e){function t(e,t,i=0){let n=new Array(t.length);for(let s=0,r=i,a=t.length;s<a;++s,++r){if(r=e.indexOf(t[s],r),-1===r)return null;n[s]=r}return n}e.findIndices=t,e.matchSumOfSquares=function(e,i,n=0){let s=t(e,i,n);if(!s)return null;let r=0;for(let e=0,t=s.length;e<t;++e){let t=s[e]-n;r+=t*t}return{score:r,indices:s}},e.matchSumOfDeltas=function(e,i,n=0){let s=t(e,i,n);if(!s)return null;let r=0,a=n-1;for(let e=0,t=s.length;e<t;++e){let t=s[e];r+=t-a-1,a=t}return{score:r,indices:s}},e.highlight=function(e,t,i){let n=[],s=0,r=0,a=t.length;for(;s<a;){let o=t[s],d=t[s];for(;++s<a&&t[s]===d+1;)d++;r<o&&n.push(e.slice(r,o)),o<d+1&&n.push(i(e.slice(o,d+1))),r=d+1}return r<e.length&&n.push(e.slice(r)),n},e.cmp=function(e,t){return e<t?-1:e>t?1:0}}(d||(d={}));class f{constructor(e){this._delegate=new g.PromiseDelegate,this._plugins=new Map,this._services=new Map,this._started=!1,this.commands=new p.CommandRegistry,this.contextMenu=new m.ContextMenu({commands:this.commands,renderer:e.contextMenuRenderer}),this.shell=e.shell}get started(){return this._delegate.promise}getPluginDescription(e){var t,i;return null!==(i=null===(t=this._plugins.get(e))||void 0===t?void 0:t.description)&&void 0!==i?i:""}hasPlugin(e){return this._plugins.has(e)}isPluginActivated(e){var t,i;return null!==(i=null===(t=this._plugins.get(e))||void 0===t?void 0:t.activated)&&void 0!==i&&i}listPlugins(){return Array.from(this._plugins.keys())}registerPlugin(e){if(this._plugins.has(e.id))throw new TypeError(`Plugin '${e.id}' is already registered.`);const t=l.createPluginData(e);l.ensureNoCycle(t,this._plugins,this._services),t.provides&&this._services.set(t.provides,t.id),this._plugins.set(t.id,t)}registerPlugins(e){for(const t of e)this.registerPlugin(t)}deregisterPlugin(e,t){const i=this._plugins.get(e);if(i){if(i.activated&&!t)throw new Error(`Plugin '${e}' is still active.`);this._plugins.delete(e)}}async activatePlugin(e){const t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(t.activated)return;if(t.promise)return t.promise;const i=t.requires.map((e=>this.resolveRequiredService(e))),n=t.optional.map((e=>this.resolveOptionalService(e)));return t.promise=Promise.all([...i,...n]).then((e=>t.activate.apply(void 0,[this,...e]))).then((e=>{t.service=e,t.activated=!0,t.promise=null})).catch((e=>{throw t.promise=null,e})),t.promise}async deactivatePlugin(e){const t=this._plugins.get(e);if(!t)throw new ReferenceError(`Plugin '${e}' is not registered.`);if(!t.activated)return[];if(!t.deactivate)throw new TypeError(`Plugin '${e}'#deactivate() method missing`);const i=l.findDependents(e,this._plugins,this._services),n=i.map((e=>this._plugins.get(e)));for(const t of n)if(!t.deactivate)throw new TypeError(`Plugin ${t.id}#deactivate() method missing (depends on ${e})`);for(const e of n){const t=[...e.requires,...e.optional].map((e=>{const t=this._services.get(e);return t?this._plugins.get(t).service:null}));await e.deactivate(this,...t),e.service=null,e.activated=!1}return i.pop(),i}async resolveRequiredService(e){const t=this._services.get(e);if(!t)throw new TypeError(`No provider for: ${e.name}.`);const i=this._plugins.get(t);return i.activated||await this.activatePlugin(t),i.service}async resolveOptionalService(e){const t=this._services.get(e);if(!t)return null;const i=this._plugins.get(t);if(!i.activated)try{await this.activatePlugin(t)}catch(e){return console.error(e),null}return i.service}start(e={}){if(this._started)return this._delegate.promise;this._started=!0;const t=e.hostID||"",i=l.collectStartupPlugins(this._plugins,e).map((e=>this.activatePlugin(e).catch((t=>{console.error(`Plugin '${e}' failed to activate.`),console.error(t)}))));return Promise.all(i).then((()=>{this.attachShell(t),this.addEventListeners(),this._delegate.resolve()})),this._delegate.promise}handleEvent(e){switch(e.type){case"resize":this.evtResize(e);break;case"keydown":this.evtKeydown(e);break;case"contextmenu":this.evtContextMenu(e)}}attachShell(e){m.Widget.attach(this.shell,e&&document.getElementById(e)||document.body)}addEventListeners(){document.addEventListener("contextmenu",this),document.addEventListener("keydown",this,!0),window.addEventListener("resize",this)}evtKeydown(e){this.commands.processKeydownEvent(e)}evtContextMenu(e){e.shiftKey||this.contextMenu.open(e)&&(e.preventDefault(),e.stopPropagation())}evtResize(e){this.shell.update()}}!function(e){e.createPluginData=function(e){var t,i,n,s;return{id:e.id,description:null!==(t=e.description)&&void 0!==t?t:"",service:null,promise:null,activated:!1,activate:e.activate,deactivate:null!==(i=e.deactivate)&&void 0!==i?i:null,provides:null!==(n=e.provides)&&void 0!==n?n:null,autoStart:null!==(s=e.autoStart)&&void 0!==s&&s,requires:e.requires?e.requires.slice():[],optional:e.optional?e.optional.slice():[]}},e.ensureNoCycle=function(e,t,i){const n=[...e.requires,...e.optional],s=n=>{if(n===e.provides)return!0;const a=i.get(n);if(!a)return!1;const o=t.get(a),d=[...o.requires,...o.optional];return 0!==d.length&&(r.push(a),!!d.some(s)||(r.pop(),!1))};if(!e.provides||0===n.length)return;const r=[e.id];if(n.some(s))throw new ReferenceError(`Cycle detected: ${r.join(" -> ")}.`)},e.findDependents=function(e,t,i){const n=new Array,s=e=>{const s=t.get(e),r=[...s.requires,...s.optional];n.push(...r.reduce(((t,n)=>{const s=i.get(n);return s&&t.push([e,s]),t}),[]))};for(const e of t.keys())s(e);const r=n.filter((t=>t[1]===e));let a=0;for(;r.length>a;){const e=r.length,t=new Set(r.map((e=>e[0])));for(const e of t)n.filter((t=>t[1]===e)).forEach((e=>{r.includes(e)||r.push(e)}));a=e}const o=function(e){let t=[],i=new Set,n=new Map;for(const t of e)s(t);for(const[e]of n)r(e);return t;function s(e){let[t,i]=e,s=n.get(i);s?s.push(t):n.set(i,[t])}function r(e){if(i.has(e))return;i.add(e);let s=n.get(e);if(s)for(const e of s)r(e);t.push(e)}}(r),d=o.findIndex((t=>t===e));return-1===d?[e]:o.slice(0,d+1)},e.collectStartupPlugins=function(e,t){const i=new Map;for(const t of e.keys())e.get(t).autoStart&&i.set(t,!0);if(t.startPlugins)for(const e of t.startPlugins)i.set(e,!0);if(t.ignorePlugins)for(const e of t.ignorePlugins)i.delete(e);return Array.from(i.keys())}}(l||(l={}));var _,y,v=i(53968);class w extends f{constructor(e){super(e),this._formatChanged=new v.Signal(this),this.contextMenu=new u.ContextMenuSvg({commands:this.commands,renderer:e.contextMenuRenderer,groupByTarget:!1,sortBySelector:!1});const t=new Promise((e=>{requestAnimationFrame((()=>{e()}))}));this.commandLinker=e.commandLinker||new n.CommandLinker({commands:this.commands}),this.docRegistry=e.docRegistry||new h.DocumentRegistry,this.restored=e.restored||this.started.then((()=>t)).catch((()=>t)),this.serviceManager=e.serviceManager||new c.ServiceManager}get format(){return this._format}set format(e){this._format!==e&&(this._format=e,document.body.dataset.format=e,this._formatChanged.emit(e))}get formatChanged(){return this._formatChanged}contextMenuHitTest(e){if(!(this._contextMenuEvent&&this._contextMenuEvent.target instanceof Node))return;let t=this._contextMenuEvent.target;do{if(t instanceof HTMLElement&&e(t))return t;t=t.parentNode}while(t&&t.parentNode&&t!==t.parentNode)}evtContextMenu(e){if(this._contextMenuEvent=e,!e.shiftKey&&!_.suppressContextMenu(e.target)&&this.contextMenu.open(e)){const t=this.contextMenu.menu.items;if(1===t.length&&t[0].command===y.contextMenu)return void this.contextMenu.menu.close();e.preventDefault(),e.stopPropagation()}}}!function(e){e.inDocMode=function(e,t){const i=new RegExp(`^${t.urls.doc}`);return!!e.match(i)},e.IPaths=new g.Token("@jupyterlab/application:IPaths","A service providing information about various\n  URLs and server paths for the current application. Use this service if you want to\n  assemble URLs to use the JupyterLab REST API."),e.ITreeResolver=new g.Token("@jupyterlab/application:ITreeResolver","A service to resolve the tree path.")}(w||(w={})),function(e){e.suppressContextMenu=function(e){return null!==e.closest("[data-jp-suppress-context-menu]")}}(_||(_={})),function(e){e.contextMenu="__internal:context-menu-info"}(y||(y={}));var b=i(55455),P=i(39003),k=i(99969);const M=new g.Token("@jupyterlab/application:ILayoutRestorer","A service providing application layout restoration functionality. Use this to have your activities restored across page loads."),A="layout-restorer:data";class T{constructor(e){this._deferred=new Array,this._deferredMainArea=null,this._firstDone=!1,this._promisesDone=!1,this._promises=[],this._restored=new g.PromiseDelegate,this._trackers=new Set,this._widgets=new Map,this._mode="multiple-document",this._connector=e.connector,this._first=e.first,this._registry=e.registry,e.mode&&(this._mode=e.mode),this._first.then((()=>{this._firstDone=!0})).then((()=>Promise.all(this._promises))).then((()=>{this._promisesDone=!0,this._trackers.clear()})).then((()=>{this._restored.resolve(void 0)}))}get isDeferred(){return this._deferred.length>0}get restored(){return this._restored.promise}add(e,t){x.nameProperty.set(e,t),this._widgets.set(t,e),e.disposed.connect(this._onWidgetDisposed,this)}async fetch(){var e;const t={fresh:!0,mainArea:null,downArea:null,leftArea:null,rightArea:null,topArea:null,relativeSizes:null},i=this._connector.fetch(A);try{const[n]=await Promise.all([i,this.restored]);if(!n)return t;const{main:s,down:r,left:a,right:o,relativeSizes:d,top:l}=n,h=!1;let c=null;"multiple-document"===this._mode?c=this._rehydrateMainArea(s):this._deferredMainArea=s;const u=this._rehydrateDownArea(r);return{fresh:h,mainArea:c,downArea:u,leftArea:this._rehydrateSideArea(a),rightArea:this._rehydrateSideArea(o),relativeSizes:d||null,topArea:null!==(e=l)&&void 0!==e?e:null}}catch(e){return t}}async restore(e,t){if(this._firstDone)throw new Error("restore() must be called before `first` has resolved.");const{namespace:i}=e;if(this._trackers.has(i))throw new Error(`The tracker "${i}" is already restored.`);const{args:n,command:s,name:r,when:a}=t;this._trackers.add(i),e.widgetAdded.connect(((e,t)=>{const n=r(t);n&&this.add(t,`${i}:${n}`)}),this),e.widgetUpdated.connect(((e,t)=>{const n=r(t);if(n){const e=`${i}:${n}`;x.nameProperty.set(t,e),this._widgets.set(e,t)}}));const o=this._first;if("multiple-document"==this._mode){const t=e.restore({args:n||(()=>g.JSONExt.emptyObject),command:s,connector:this._connector,name:r,registry:this._registry,when:a?[o].concat(a):o}).catch((e=>{console.error(e)}));return this._promises.push(t),t}e.defer({args:n||(()=>g.JSONExt.emptyObject),command:s,connector:this._connector,name:r,registry:this._registry,when:a?[o].concat(a):o}),this._deferred.push(e)}async restoreDeferred(){if(!this.isDeferred)return null;const e=Promise.resolve(),t=this._deferred.map((t=>e.then((()=>t.restore()))));return this._deferred.length=0,await Promise.all(t),this._rehydrateMainArea(this._deferredMainArea)}save(e){if(!this._promisesDone){const e="save() was called prematurely.";return console.warn(e),Promise.reject(e)}const t={};return t.main=this.isDeferred?this._deferredMainArea:this._dehydrateMainArea(e.mainArea),t.down=this._dehydrateDownArea(e.downArea),t.left=this._dehydrateSideArea(e.leftArea),t.right=this._dehydrateSideArea(e.rightArea),t.relativeSizes=e.relativeSizes,t.top={...e.topArea},this._connector.save(A,t)}_dehydrateMainArea(e){return e?x.serializeMain(e):null}_rehydrateMainArea(e){return e?x.deserializeMain(e,this._widgets):null}_dehydrateDownArea(e){if(!e)return null;const t={size:e.size};if(e.currentWidget){const i=x.nameProperty.get(e.currentWidget);i&&(t.current=i)}return e.widgets&&(t.widgets=e.widgets.map((e=>x.nameProperty.get(e))).filter((e=>!!e))),t}_rehydrateDownArea(e){var t;if(!e)return{currentWidget:null,size:0,widgets:null};const i=this._widgets,n=e.current&&i.has(`${e.current}`)?i.get(`${e.current}`):null,s=Array.isArray(e.widgets)?e.widgets.map((e=>i.has(`${e}`)?i.get(`${e}`):null)).filter((e=>!!e)):null;return{currentWidget:n,size:null!==(t=e.size)&&void 0!==t?t:0,widgets:s}}_dehydrateSideArea(e){if(!e)return null;const t={collapsed:e.collapsed,visible:e.visible};if(e.currentWidget){const i=x.nameProperty.get(e.currentWidget);i&&(t.current=i)}return e.widgets&&(t.widgets=e.widgets.map((e=>x.nameProperty.get(e))).filter((e=>!!e))),t}_rehydrateSideArea(e){var t,i;if(!e)return{collapsed:!0,currentWidget:null,visible:!0,widgets:null};const n=this._widgets;return{collapsed:null!==(t=e.collapsed)&&void 0!==t&&t,currentWidget:e.current&&n.has(`${e.current}`)?n.get(`${e.current}`):null,widgets:Array.isArray(e.widgets)?e.widgets.map((e=>n.has(`${e}`)?n.get(`${e}`):null)).filter((e=>!!e)):null,visible:null===(i=e.visible)||void 0===i||i}}_onWidgetDisposed(e){const t=x.nameProperty.get(e);this._widgets.delete(t)}}var x;!function(e){function t(i){return i&&i.type?"tab-area"===i.type?{type:"tab-area",currentIndex:i.currentIndex,widgets:i.widgets.map((t=>e.nameProperty.get(t))).filter((e=>!!e))}:{type:"split-area",orientation:i.orientation,sizes:i.sizes,children:i.children.map(t).filter((e=>!!e))}:null}function i(e,t){if(!e)return null;const n=e.type||"unknown";if("unknown"===n||"tab-area"!==n&&"split-area"!==n)return console.warn(`Attempted to deserialize unknown type: ${n}`),null;if("tab-area"===n){const{currentIndex:i,widgets:n}=e,s={type:"tab-area",currentIndex:i||0,widgets:n&&n.map((e=>t.get(e))).filter((e=>!!e))||[]};return s.currentIndex>s.widgets.length-1&&(s.currentIndex=0),s}const{orientation:s,sizes:r,children:a}=e;return{type:"split-area",orientation:s,sizes:r||[],children:a&&a.map((e=>i(e,t))).filter((e=>!!e))||[]}}e.nameProperty=new k.AttachedProperty({name:"name",create:e=>""}),e.serializeMain=function(i){const n={dock:i&&i.dock&&t(i.dock.main)||null};if(i&&i.currentWidget){const t=e.nameProperty.get(i.currentWidget);t&&(n.current=t)}return n},e.deserializeMain=function(e,t){if(!e)return null;const n=e.current||null,s=e.dock||null;return{currentWidget:n&&t.has(n)&&t.get(n)||null,dock:s?{main:i(s,t)}:null}}}(x||(x={}));const E=new g.Token("@jupyterlab/application:IMimeDocumentTracker","A widget tracker for documents rendered using a mime renderer extension. Use this if you want to list and interact with documents rendered by such extensions.");function C(e){const t=[],i=new n.WidgetTracker({namespace:"application-mimedocuments"});return e.forEach((e=>{let n=e.default;e.hasOwnProperty("__esModule")||(n=e),Array.isArray(n)||(n=[n]),n.forEach((e=>{t.push(L(i,e))}))})),t.push({id:"@jupyterlab/application:mimedocument",description:"Provides a mime document widget tracker.",optional:[M],provides:E,autoStart:!0,activate:(e,t)=>(t&&t.restore(i,{command:"docmanager:open",args:e=>({path:e.context.path,factory:S.factoryNameProperty.get(e)}),name:e=>`${e.context.path}:${S.factoryNameProperty.get(e)}`}),i)}),t}function L(e,t){return{id:t.id,description:t.description,requires:[P.IRenderMimeRegistry,s.ITranslator],autoStart:!0,activate:(i,n,s)=>{if(void 0!==t.rank?n.addFactory(t.rendererFactory,t.rank):n.addFactory(t.rendererFactory),!t.documentWidgetFactoryOptions)return;const r=i.docRegistry;let a=[];a=Array.isArray(t.documentWidgetFactoryOptions)?t.documentWidgetFactoryOptions:[t.documentWidgetFactoryOptions],t.fileTypes&&t.fileTypes.forEach((e=>{e.icon&&(e={...e,icon:u.LabIcon.resolve({icon:e.icon})}),i.docRegistry.addFileType(e)})),a.forEach((i=>{const a=i.toolbarFactory?e=>i.toolbarFactory(e.content.renderer):void 0,o=new h.MimeDocumentFactory({renderTimeout:t.renderTimeout,dataType:t.dataType,rendermime:n,modelName:i.modelName,name:i.name,primaryFileType:r.getFileType(i.primaryFileType),fileTypes:i.fileTypes,defaultFor:i.defaultFor,defaultRendered:i.defaultRendered,toolbarFactory:a,translator:s,factory:t.rendererFactory});r.addWidgetFactory(o),o.widgetCreated.connect(((t,i)=>{S.factoryNameProperty.set(i,o.name),i.context.pathChanged.connect((()=>{e.save(i)})),e.add(i)}))}))}}}var S;!function(e){e.factoryNameProperty=new k.AttachedProperty({name:"factoryName",create:()=>{}})}(S||(S={}));var B=i(18246),D=i(68082),W=i(82361);const H="jp-SideBar",I="jp-mod-current",R="jp-mod-active",O=900,U="jp-Activity",j=new g.Token("@jupyterlab/application:ILabShell","A service for interacting with the JupyterLab shell. The top-level ``application`` object also has a reference to the shell, but it has a restricted interface in order to be agnostic to different shell implementations on the application. Use this to get more detailed information about currently active widgets and layout state.");class F extends m.Widget{constructor(e){super(),this._dockChildHook=(e,t)=>{switch(t.type){case"child-added":t.child.addClass(U),this._tracker.add(t.child);break;case"child-removed":t.child.removeClass(U),this._tracker.remove(t.child)}return!0},this._activeChanged=new v.Signal(this),this._cachedLayout=null,this._currentChanged=new v.Signal(this),this._currentPath="",this._currentPathChanged=new v.Signal(this),this._modeChanged=new v.Signal(this),this._isRestored=!1,this._layoutModified=new v.Signal(this),this._layoutDebouncer=new W.Debouncer((()=>{this._layoutModified.emit(void 0)}),0),this._restored=new g.PromiseDelegate,this._tracker=new m.FocusTracker,this._topHandlerHiddenByUser=!1,this._idTypeMap=new Map,this._mainOptionsCache=new Map,this._sideOptionsCache=new Map,this._delayedWidget=new Array,this.addClass("jp-LabShell"),this.id="main",!1===(null==e?void 0:e.waitForRestore)&&(this._userLayout={"multiple-document":{},"single-document":{}});const t=this._skipLinkWidget=new N.SkipLinkWidget(this);this._skipLinkWidget.show();const i=new m.Panel;i.addClass("jp-skiplink-wrapper"),i.addWidget(t);const n=this._headerPanel=new m.BoxPanel,r=this._menuHandler=new N.PanelHandler;r.panel.node.setAttribute("role","navigation");const a=this._topHandler=new N.PanelHandler;a.panel.node.setAttribute("role","banner");const o=this._bottomPanel=new m.BoxPanel;o.node.setAttribute("role","contentinfo");const d=new m.BoxPanel,l=this._vsplitPanel=new N.RestorableSplitPanel,c=this._dockPanel=new u.DockPanelSvg({hiddenMode:m.Widget.HiddenMode.Display});D.MessageLoop.installMessageHook(c,this._dockChildHook);const p=this._hsplitPanel=new N.RestorableSplitPanel,f=this._downPanel=new u.TabPanelSvg({tabsMovable:!0}),_=this._leftHandler=new N.SideBarHandler,y=this._rightHandler=new N.SideBarHandler,w=new m.BoxLayout;n.id="jp-header-panel",r.panel.id="jp-menu-panel",a.panel.id="jp-top-panel",o.id="jp-bottom-panel",d.id="jp-main-content-panel",l.id="jp-main-vsplit-panel",c.id="jp-main-dock-panel",p.id="jp-main-split-panel",f.id="jp-down-stack",_.sideBar.addClass(H),_.sideBar.addClass("jp-mod-left"),_.sideBar.node.setAttribute("role","complementary"),_.stackedPanel.id="jp-left-stack",y.sideBar.addClass(H),y.sideBar.addClass("jp-mod-right"),y.sideBar.node.setAttribute("role","complementary"),y.stackedPanel.id="jp-right-stack",c.node.setAttribute("role","main"),d.spacing=0,l.spacing=1,c.spacing=5,p.spacing=1,n.direction="top-to-bottom",l.orientation="vertical",d.direction="left-to-right",p.orientation="horizontal",o.direction="bottom-to-top",m.SplitPanel.setStretch(_.stackedPanel,0),m.SplitPanel.setStretch(f,0),m.SplitPanel.setStretch(c,1),m.SplitPanel.setStretch(y.stackedPanel,0),m.BoxPanel.setStretch(_.sideBar,0),m.BoxPanel.setStretch(p,1),m.BoxPanel.setStretch(y.sideBar,0),m.SplitPanel.setStretch(l,1),p.addWidget(_.stackedPanel),p.addWidget(c),p.addWidget(y.stackedPanel),l.addWidget(p),l.addWidget(f),d.addWidget(_.sideBar),d.addWidget(l),d.addWidget(y.sideBar),w.direction="top-to-bottom",w.spacing=0,l.setRelativeSizes([3,1]),p.setRelativeSizes([1,2.5,1]),m.BoxLayout.setStretch(n,0),m.BoxLayout.setStretch(r.panel,0),m.BoxLayout.setStretch(a.panel,0),m.BoxLayout.setStretch(d,1),m.BoxLayout.setStretch(o,0),w.addWidget(i),w.addWidget(n),w.addWidget(a.panel),w.addWidget(d),w.addWidget(o),this._headerPanel.hide(),this._bottomPanel.hide(),this._downPanel.hide(),this.layout=w,this._tracker.currentChanged.connect(this._onCurrentChanged,this),this._tracker.activeChanged.connect(this._onActiveChanged,this),this._dockPanel.layoutModified.connect(this._onLayoutModified,this),this._vsplitPanel.updated.connect(this._onLayoutModified,this),this._downPanel.currentChanged.connect(this._onLayoutModified,this),this._downPanel.tabBar.tabMoved.connect(this._onTabPanelChanged,this),this._downPanel.stackedPanel.widgetRemoved.connect(this._onTabPanelChanged,this),this._leftHandler.updated.connect(this._onLayoutModified,this),this._rightHandler.updated.connect(this._onLayoutModified,this),this._hsplitPanel.updated.connect(this._onLayoutModified,this);const b=this._titleHandler=new N.TitleHandler(this);this.add(b,"top",{rank:100}),"multiple-document"===this._dockPanel.mode?(this._topHandler.addWidget(this._menuHandler.panel,100),b.hide()):w.insertWidget(3,this._menuHandler.panel),this.translator=s.nullTranslator,this.currentChanged.connect(((e,t)=>{let i=t.newValue,n=t.oldValue;n&&(n.title.changed.disconnect(this._updateTitlePanelTitle,this),n instanceof h.DocumentWidget&&n.context.pathChanged.disconnect(this._updateCurrentPath,this)),i&&(i.title.changed.connect(this._updateTitlePanelTitle,this),this._updateTitlePanelTitle(),i instanceof h.DocumentWidget&&i.context.pathChanged.connect(this._updateCurrentPath,this)),this._updateCurrentPath()}))}get activeChanged(){return this._activeChanged}get activeWidget(){return this._tracker.activeWidget}get addButtonEnabled(){return this._dockPanel.addButtonEnabled}set addButtonEnabled(e){this._dockPanel.addButtonEnabled=e}get addRequested(){return this._dockPanel.addRequested}get currentChanged(){return this._currentChanged}get currentPath(){return this._currentPath}get currentPathChanged(){return this._currentPathChanged}get currentWidget(){return this._tracker.currentWidget}get layoutModified(){return this._layoutModified}get leftCollapsed(){return!this._leftHandler.sideBar.currentTitle}get rightCollapsed(){return!this._rightHandler.sideBar.currentTitle}get presentationMode(){return this.hasClass("jp-mod-presentationMode")}set presentationMode(e){this.toggleClass("jp-mod-presentationMode",e)}get mode(){return this._dockPanel.mode}set mode(e){const t=this._dockPanel;if(e===t.mode)return;const i=this.currentWidget;if("single-document"===e)this._cachedLayout=t.saveLayout(),t.mode=e,this.currentWidget&&t.activateWidget(this.currentWidget),this.layout.insertWidget(3,this._menuHandler.panel),this._titleHandler.show(),this._updateTitlePanelTitle(),this._topHandlerHiddenByUser&&this._topHandler.panel.hide();else{const n=Array.from(t.widgets());t.mode=e,this._cachedLayout&&(N.normalizeAreaConfig(t,this._cachedLayout.main),t.restoreLayout(this._cachedLayout),this._cachedLayout=null),this._layoutRestorer.isDeferred&&this._layoutRestorer.restoreDeferred().then((e=>{if(e){const{currentWidget:t,dock:i}=e;i&&this._dockPanel.restoreLayout(i),t&&this.activateById(t.id)}})).catch((e=>{console.error("Failed to restore the deferred layout."),console.error(e)})),n.forEach((e=>{e.parent||this._addToMainArea(e,{...this._mainOptionsCache.get(e),activate:!1})})),this._mainOptionsCache.clear(),i&&t.activateWidget(i),this.add(this._menuHandler.panel,"top",{rank:100}),this._titleHandler.hide()}this.node.dataset.shellMode=e,this._downPanel.fit(),this._modeChanged.emit(e)}get modeChanged(){return this._modeChanged}get restored(){return this._restored.promise}get translator(){var e;return null!==(e=this._translator)&&void 0!==e?e:s.nullTranslator}set translator(e){if(e!==this._translator){this._translator=e,u.TabBarSvg.translator=e;const t=e.load("jupyterlab");this._menuHandler.panel.node.setAttribute("aria-label",t.__("main")),this._leftHandler.sideBar.node.setAttribute("aria-label",t.__("main sidebar")),this._leftHandler.sideBar.contentNode.setAttribute("aria-label",t.__("main sidebar")),this._rightHandler.sideBar.node.setAttribute("aria-label",t.__("alternate sidebar")),this._rightHandler.sideBar.contentNode.setAttribute("aria-label",t.__("alternate sidebar"))}}get userLayout(){return g.JSONExt.deepCopy(this._userLayout)}activateById(e){if(this._leftHandler.has(e))return void this._leftHandler.activate(e);if(this._rightHandler.has(e))return void this._rightHandler.activate(e);const t=this._downPanel.tabBar.titles.findIndex((t=>t.owner.id===e));if(t>=0)return void(this._downPanel.currentIndex=t);const i=this._dockPanel,n=(0,B.find)(i.widgets(),(t=>t.id===e));n&&i.activateWidget(n)}activateNextTab(){const e=this._currentTabBar();if(!e)return;const t=e.currentIndex;if(-1!==t){if(t<e.titles.length-1)return e.currentIndex+=1,void(e.currentTitle&&e.currentTitle.owner.activate());if(t===e.titles.length-1){const e=this._adjacentBar("next");e&&(e.currentIndex=0,e.currentTitle&&e.currentTitle.owner.activate())}}}activatePreviousTab(){const e=this._currentTabBar();if(!e)return;const t=e.currentIndex;if(-1!==t){if(t>0)return e.currentIndex-=1,void(e.currentTitle&&e.currentTitle.owner.activate());if(0===t){const e=this._adjacentBar("previous");if(e){const t=e.titles.length;e.currentIndex=t-1,e.currentTitle&&e.currentTitle.owner.activate()}}}}activateNextTabBar(){const e=this._adjacentBar("next");e&&e.currentTitle&&e.currentTitle.owner.activate()}activatePreviousTabBar(){const e=this._adjacentBar("previous");e&&e.currentTitle&&e.currentTitle.owner.activate()}add(e,t="main",i){var n;if(!this._userLayout)return void this._delayedWidget.push({widget:e,area:t,options:i});let s;switch((null==i?void 0:i.type)&&this._userLayout[this.mode][i.type]?(s=this._userLayout[this.mode][i.type],this._idTypeMap.set(e.id,i.type)):s=this._userLayout[this.mode][e.id],(null==i?void 0:i.type)&&(this._idTypeMap.set(e.id,i.type),e.disposed.connect((()=>{this._idTypeMap.delete(e.id)}))),t=null!==(n=null==s?void 0:s.area)&&void 0!==n?n:t,i=i||(null==s?void 0:s.options)?{...i,...null==s?void 0:s.options}:void 0,t||"main"){case"bottom":return this._addToBottomArea(e,i);case"down":return this._addToDownArea(e,i);case"header":return this._addToHeaderArea(e,i);case"left":return this._addToLeftArea(e,i);case"main":return this._addToMainArea(e,i);case"menu":return this._addToMenuArea(e,i);case"right":return this._addToRightArea(e,i);case"top":return this._addToTopArea(e,i);default:throw new Error(`Invalid area: ${t}`)}}move(e,t,i){var n;const s=null!==(n=this._idTypeMap.get(e.id))&&void 0!==n?n:e.id;for(const e of["single-document","multiple-document"].filter((e=>!i||e===i)))this._userLayout[e][s]={...this._userLayout[e][s],area:t};return this.add(e,t),this._userLayout}collapseLeft(){this._leftHandler.collapse(),this._onLayoutModified()}collapseRight(){this._rightHandler.collapse(),this._onLayoutModified()}dispose(){this.isDisposed||(this._layoutDebouncer.dispose(),super.dispose())}expandLeft(){this._leftHandler.expand(),this._onLayoutModified()}expandRight(){this._rightHandler.expand(),this._onLayoutModified()}closeAll(){Array.from(this._dockPanel.widgets()).forEach((e=>e.close())),this._downPanel.stackedPanel.widgets.forEach((e=>e.close()))}isSideTabBarVisible(e){switch(e){case"left":return this._leftHandler.isVisible;case"right":return this._rightHandler.isVisible}}isTopInSimpleModeVisible(){return!this._topHandlerHiddenByUser}isEmpty(e){switch(e){case"bottom":return 0===this._bottomPanel.widgets.length;case"down":return 0===this._downPanel.stackedPanel.widgets.length;case"header":return 0===this._headerPanel.widgets.length;case"left":return 0===this._leftHandler.stackedPanel.widgets.length;case"main":return this._dockPanel.isEmpty;case"menu":return 0===this._menuHandler.panel.widgets.length;case"right":return 0===this._rightHandler.stackedPanel.widgets.length;case"top":return 0===this._topHandler.panel.widgets.length;default:return!0}}async restoreLayout(e,t,i={}){var n,s,r,a;this._userLayout={"single-document":null!==(n=i["single-document"])&&void 0!==n?n:{},"multiple-document":null!==(s=i["multiple-document"])&&void 0!==s?s:{}},this._delayedWidget.forEach((({widget:e,area:t,options:i})=>{this.add(e,t,i)})),this._delayedWidget.length=0,this._layoutRestorer=t;const o=await t.fetch(),{mainArea:d,downArea:l,leftArea:h,rightArea:c,topArea:u,relativeSizes:p}=o;if(d){const{currentWidget:t,dock:i}=d;i&&"multiple-document"===e&&this._dockPanel.restoreLayout(i),e&&(this.mode=e),t&&this.activateById(t.id)}else e&&(this.mode=e);if(void 0!==(null==u?void 0:u.simpleVisibility)&&(this._topHandlerHiddenByUser=!u.simpleVisibility,"single-document"===this.mode&&this._topHandler.panel.setHidden(this._topHandlerHiddenByUser)),l){const{currentWidget:e,widgets:t,size:i}=l,n=null!==(r=null==t?void 0:t.map((e=>e.id)))&&void 0!==r?r:[];this._downPanel.tabBar.titles.filter((e=>!n.includes(e.owner.id))).map((e=>e.owner.close()));const s=this._downPanel.tabBar.titles.map((e=>e.owner.id));for(null==t||t.filter((e=>!s.includes(e.id))).map((e=>this._downPanel.addWidget(e)));!B.ArrayExt.shallowEqual(n,this._downPanel.tabBar.titles.map((e=>e.owner.id)));)this._downPanel.tabBar.titles.forEach(((e,t)=>{const i=n.findIndex((t=>e.owner.id==t));i>=0&&i!=t&&this._downPanel.tabBar.insertTab(i,e)}));if(e){const t=this._downPanel.stackedPanel.widgets.findIndex((t=>t.id===e.id));t&&(this._downPanel.currentIndex=t,null===(a=this._downPanel.currentWidget)||void 0===a||a.activate())}i&&i>0?this._vsplitPanel.setRelativeSizes([1-i,i]):(this._downPanel.stackedPanel.widgets.forEach((e=>e.close())),this._downPanel.hide())}h?this._leftHandler.rehydrate(h):"single-document"===e&&this.collapseLeft(),c?this._rightHandler.rehydrate(c):"single-document"===e&&this.collapseRight(),p&&this._hsplitPanel.setRelativeSizes(p),this._isRestored||(D.MessageLoop.flush(),this._restored.resolve(o))}saveLayout(){return{mainArea:{currentWidget:this._tracker.currentWidget,dock:"single-document"===this.mode&&this._cachedLayout||this._dockPanel.saveLayout()},downArea:{currentWidget:this._downPanel.currentWidget,widgets:Array.from(this._downPanel.stackedPanel.widgets),size:this._vsplitPanel.relativeSizes()[1]},leftArea:this._leftHandler.dehydrate(),rightArea:this._rightHandler.dehydrate(),topArea:{simpleVisibility:!this._topHandlerHiddenByUser},relativeSizes:this._hsplitPanel.relativeSizes()}}toggleTopInSimpleModeVisibility(){"single-document"===this.mode&&(this._topHandler.panel.isVisible?(this._topHandlerHiddenByUser=!0,this._topHandler.panel.hide()):(this._topHandlerHiddenByUser=!1,this._topHandler.panel.show(),this._updateTitlePanelTitle()),this._onLayoutModified())}toggleSideTabBarVisibility(e){"right"===e?this._rightHandler.isVisible?this._rightHandler.hide():this._rightHandler.show():this._leftHandler.isVisible?this._leftHandler.hide():this._leftHandler.show()}updateConfig(e){if(e.hiddenMode)switch(e.hiddenMode){case"display":this._dockPanel.hiddenMode=m.Widget.HiddenMode.Display;break;case"scale":this._dockPanel.hiddenMode=m.Widget.HiddenMode.Scale;break;case"contentVisibility":this._dockPanel.hiddenMode=m.Widget.HiddenMode.ContentVisibility}}widgets(e){switch(null!=e?e:"main"){case"main":return this._dockPanel.widgets();case"left":return(0,B.map)(this._leftHandler.sideBar.titles,(e=>e.owner));case"right":return(0,B.map)(this._rightHandler.sideBar.titles,(e=>e.owner));case"header":return this._headerPanel.children();case"top":return this._topHandler.panel.children();case"menu":return this._menuHandler.panel.children();case"bottom":return this._bottomPanel.children();default:throw new Error(`Invalid area: ${e}`)}}onAfterAttach(e){this.node.dataset.shellMode=this.mode}_updateTitlePanelTitle(){let e=this.currentWidget;const t=this._titleHandler.inputElement;t.value=e?e.title.label:"",t.title=e?e.title.caption:""}_updateCurrentPath(){let e=this.currentWidget,t="";e&&e instanceof h.DocumentWidget&&(t=e.context.path),this._currentPathChanged.emit({newValue:t,oldValue:this._currentPath}),this._currentPath=t}_addToLeftArea(e,t){if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");t=t||this._sideOptionsCache.get(e)||{},this._sideOptionsCache.set(e,t);const i="rank"in t?t.rank:O;this._leftHandler.addWidget(e,i),this._onLayoutModified()}_addToMainArea(e,t){if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");t=t||{};const i=this._dockPanel,n=t.mode||"tab-after";let s=this.currentWidget;t.ref&&(s=(0,B.find)(i.widgets(),(e=>e.id===t.ref))||null);const{title:r}=e;r.dataset={...r.dataset,id:e.id},r.icon instanceof u.LabIcon?r.icon=r.icon.bindprops({stylesheet:"mainAreaTab"}):"string"!=typeof r.icon&&r.icon||(r.iconClass=(0,u.classes)(r.iconClass,"jp-Icon")),i.addWidget(e,{mode:n,ref:s}),"single-document"===i.mode&&this._mainOptionsCache.set(e,t),!1!==t.activate&&i.activateWidget(e)}_addToRightArea(e,t){if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");const i="rank"in(t=t||this._sideOptionsCache.get(e)||{})?t.rank:O;this._sideOptionsCache.set(e,t),this._rightHandler.addWidget(e,i),this._onLayoutModified()}_addToTopArea(e,t){var i;if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");const n=null!==(i=(t=t||{}).rank)&&void 0!==i?i:O;this._topHandler.addWidget(e,n),this._onLayoutModified(),this._topHandler.panel.isHidden&&this._topHandler.panel.show()}_addToMenuArea(e,t){var i;if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");const n=null!==(i=(t=t||{}).rank)&&void 0!==i?i:O;this._menuHandler.addWidget(e,n),this._onLayoutModified(),this._menuHandler.panel.isHidden&&this._menuHandler.panel.show()}_addToHeaderArea(e,t){e.id?(this._headerPanel.addWidget(e),this._onLayoutModified(),this._headerPanel.isHidden&&this._headerPanel.show()):console.error("Widgets added to app shell must have unique id property.")}_addToBottomArea(e,t){e.id?(this._bottomPanel.addWidget(e),this._onLayoutModified(),this._bottomPanel.isHidden&&this._bottomPanel.show()):console.error("Widgets added to app shell must have unique id property.")}_addToDownArea(e,t){if(!e.id)return void console.error("Widgets added to app shell must have unique id property.");t=t||{};const{title:i}=e;i.dataset={...i.dataset,id:e.id},i.icon instanceof u.LabIcon?i.icon=i.icon.bindprops({stylesheet:"mainAreaTab"}):"string"!=typeof i.icon&&i.icon||(i.iconClass=(0,u.classes)(i.iconClass,"jp-Icon")),this._downPanel.addWidget(e),this._onLayoutModified(),this._downPanel.isHidden&&this._downPanel.show()}_adjacentBar(e){const t=this._currentTabBar();if(!t)return null;const i=Array.from(this._dockPanel.tabBars()),n=i.length,s=i.indexOf(t);return"previous"===e?s>0?i[s-1]:0===s?i[n-1]:null:s<n-1?i[s+1]:s===n-1?i[0]:null}_currentTabBar(){const e=this._tracker.currentWidget;if(!e)return null;const t=e.title,i=this._dockPanel.tabBars();return(0,B.find)(i,(e=>e.titles.indexOf(t)>-1))||null}_onActiveChanged(e,t){t.newValue&&(t.newValue.title.className+=` ${R}`),t.oldValue&&(t.oldValue.title.className=t.oldValue.title.className.replace(R,"")),this._activeChanged.emit(t)}_onCurrentChanged(e,t){t.newValue&&(t.newValue.title.className+=` ${I}`),t.oldValue&&(t.oldValue.title.className=t.oldValue.title.className.replace(I,"")),this._currentChanged.emit(t),this._onLayoutModified()}_onTabPanelChanged(){0===this._downPanel.stackedPanel.widgets.length&&this._downPanel.hide(),this._onLayoutModified()}_onLayoutModified(){this._layoutDebouncer.invoke()}}var N;!function(e){e.itemCmp=function(e,t){return e.rank-t.rank},e.normalizeAreaConfig=function e(t,i){i&&("tab-area"!==i.type?i.children.forEach((i=>{e(t,i)})):i.widgets=i.widgets.filter((e=>!e.isDisposed&&e.parent===t)))},e.PanelHandler=class{constructor(){this._panelChildHook=(e,t)=>{switch(t.type){case"child-added":{const e=t.child;if(this._items.find((t=>t.widget===e)))break;const i=this._items[this._items.length-1].rank;this._items.push({widget:e,rank:i})}break;case"child-removed":{const e=t.child;B.ArrayExt.removeFirstWhere(this._items,(t=>t.widget===e))}}return!0},this._items=new Array,this._panel=new m.Panel,D.MessageLoop.installMessageHook(this._panel,this._panelChildHook)}get panel(){return this._panel}addWidget(t,i){t.parent=null;const n={widget:t,rank:i},s=B.ArrayExt.upperBound(this._items,n,e.itemCmp);B.ArrayExt.insert(this._items,s,n),this._panel.insertWidget(s,t)}},e.SideBarHandler=class{constructor(){this._isHiddenByUser=!1,this._items=new Array,this._updated=new v.Signal(this),this._sideBar=new m.TabBar({insertBehavior:"none",removeBehavior:"none",allowDeselect:!0,orientation:"vertical"}),this._stackedPanel=new m.StackedPanel,this._sideBar.hide(),this._stackedPanel.hide(),this._lastCurrent=null,this._sideBar.currentChanged.connect(this._onCurrentChanged,this),this._sideBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this._stackedPanel.widgetRemoved.connect(this._onWidgetRemoved,this)}get isVisible(){return this._sideBar.isVisible}get sideBar(){return this._sideBar}get stackedPanel(){return this._stackedPanel}get updated(){return this._updated}expand(){const e=this._lastCurrent||this._items.length>0&&this._items[0].widget;e&&this.activate(e.id)}activate(e){const t=this._findWidgetByID(e);t&&(this._sideBar.currentTitle=t.title,t.activate())}has(e){return null!==this._findWidgetByID(e)}collapse(){this._sideBar.currentTitle=null}addWidget(e,t){e.parent=null,e.hide();const i={widget:e,rank:t},n=this._findInsertIndex(i);B.ArrayExt.insert(this._items,n,i),this._stackedPanel.insertWidget(n,e);const s=this._sideBar.insertTab(n,e.title);s.dataset={id:e.id},s.icon instanceof u.LabIcon?s.icon=s.icon.bindprops({stylesheet:"sideBar"}):"string"==typeof s.icon&&""!=s.icon?s.iconClass=(0,u.classes)(s.iconClass,"jp-Icon","jp-Icon-20"):s.icon||s.label||(s.icon=u.tabIcon.bindprops({stylesheet:"sideBar"})),this._refreshVisibility()}dehydrate(){const e=null===this._sideBar.currentTitle,t=Array.from(this._stackedPanel.widgets);return{collapsed:e,currentWidget:t[this._sideBar.currentIndex],visible:!this._isHiddenByUser,widgets:t}}rehydrate(e){e.currentWidget&&this.activate(e.currentWidget.id),e.collapsed&&this.collapse(),e.visible||this.hide()}hide(){this._isHiddenByUser=!0,this._refreshVisibility()}show(){this._isHiddenByUser=!1,this._refreshVisibility()}_findInsertIndex(t){return B.ArrayExt.upperBound(this._items,t,e.itemCmp)}_findWidgetIndex(e){return B.ArrayExt.findFirstIndex(this._items,(t=>t.widget===e))}_findWidgetByTitle(e){const t=(0,B.find)(this._items,(t=>t.widget.title===e));return t?t.widget:null}_findWidgetByID(e){const t=(0,B.find)(this._items,(t=>t.widget.id===e));return t?t.widget:null}_refreshVisibility(){this._stackedPanel.setHidden(null===this._sideBar.currentTitle),this._sideBar.setHidden(this._isHiddenByUser||0===this._sideBar.titles.length),this._updated.emit()}_onCurrentChanged(e,t){const i=t.previousTitle?this._findWidgetByTitle(t.previousTitle):null,n=t.currentTitle?this._findWidgetByTitle(t.currentTitle):null;i&&i.hide(),n&&n.show(),this._lastCurrent=n||i,this._refreshVisibility()}_onTabActivateRequested(e,t){t.title.owner.activate()}_onWidgetRemoved(e,t){t===this._lastCurrent&&(this._lastCurrent=null),B.ArrayExt.removeAt(this._items,this._findWidgetIndex(t)),this._sideBar.removeTab(t.title),this._refreshVisibility()}};class t extends m.Widget{constructor(e){super(),this.addClass("jp-skiplink"),this.id="jp-skiplink",this._shell=e,this._createSkipLink("Skip to left side bar")}handleEvent(e){"click"===e.type&&this._focusLeftSideBar()}onAfterAttach(e){super.onAfterAttach(e),this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this),super.onBeforeDetach(e)}_focusLeftSideBar(){this._shell.expandLeft()}_createSkipLink(e){const t=document.createElement("a");t.href="#",t.tabIndex=1,t.text=e,t.className="skip-link",this.node.appendChild(t)}}e.SkipLinkWidget=t;class i extends m.Widget{constructor(e){super(),this._selected=!1;const t=document.createElement("input");t.type="text",this.node.appendChild(t),this._shell=e,this.id="jp-title-panel-title"}onAfterAttach(e){super.onAfterAttach(e),this.inputElement.addEventListener("keyup",this),this.inputElement.addEventListener("click",this),this.inputElement.addEventListener("blur",this)}onBeforeDetach(e){super.onBeforeDetach(e),this.inputElement.removeEventListener("keyup",this),this.inputElement.removeEventListener("click",this),this.inputElement.removeEventListener("blur",this)}handleEvent(e){switch(e.type){case"keyup":this._evtKeyUp(e);break;case"click":this._evtClick(e);break;case"blur":this._selected=!1}}async _evtKeyUp(e){if("Enter"==e.key){const e=this._shell.currentWidget;if(null==e)return;const t=e.title.label,i=this.inputElement,n=i.value;i.blur(),n!==t?e.title.label=n:i.value=t}}_evtClick(e){if(0!==e.button||this._selected)return;const t=this.inputElement;e.preventDefault(),e.stopPropagation(),this._selected=!0;const i=t.value.indexOf(".");-1===i?t.select():t.setSelectionRange(0,i)}get inputElement(){return this.node.children[0]}}e.TitleHandler=i;class n extends m.SplitPanel{constructor(e={}){super(e),this.updated=new v.Signal(this)}onUpdateRequest(e){super.onUpdateRequest(e),this.updated.emit()}}e.RestorableSplitPanel=n}(N||(N={}));var V=i(75324);class q{constructor(e){this._busyCount=0,this._dirtyCount=0,this._busySignal=new v.Signal(e),this._dirtySignal=new v.Signal(e)}get busySignal(){return this._busySignal}get dirtySignal(){return this._dirtySignal}get isBusy(){return this._busyCount>0}get isDirty(){return this._dirtyCount>0}setDirty(){const e=this.isDirty;return this._dirtyCount++,this.isDirty!==e&&this._dirtySignal.emit(this.isDirty),new V.DisposableDelegate((()=>{const e=this.isDirty;this._dirtyCount=Math.max(0,this._dirtyCount-1),this.isDirty!==e&&this._dirtySignal.emit(this.isDirty)}))}setBusy(){const e=this.isBusy;return this._busyCount++,this.isBusy!==e&&this._busySignal.emit(this.isBusy),new V.DisposableDelegate((()=>{const e=this.isBusy;this._busyCount--,this.isBusy!==e&&this._busySignal.emit(this.isBusy)}))}}class $ extends w{constructor(e={shell:new F}){super({...e,shell:e.shell||new F,serviceManager:e.serviceManager||new c.ServiceManager({standby:()=>!this._info.isConnected||"when-hidden"})}),this.name=b.PageConfig.getOption("appName")||"JupyterLab",this.namespace=b.PageConfig.getOption("appNamespace")||this.name,this.registerPluginErrors=[],this.status=new q(this),this.version=b.PageConfig.getOption("appVersion")||"unknown",this._info=$.defaultInfo,this.restored=this.shell.restored.then((()=>{})).catch((()=>{}));const t=Object.keys($.defaultInfo).reduce(((t,i)=>(i in e&&(t[i]=JSON.parse(JSON.stringify(e[i]))),t)),{});this._info={...$.defaultInfo,...t};const i=$.defaultPaths.urls,n=$.defaultPaths.directories,s=e.paths&&e.paths.urls||{},r=e.paths&&e.paths.directories||{};if(this._paths={urls:Object.keys(i).reduce(((e,t)=>{if(t in s){const i=s[t];e[t]=i}else e[t]=i[t];return e}),{}),directories:Object.keys($.defaultPaths.directories).reduce(((e,t)=>{if(t in r){const i=r[t];e[t]=i}else e[t]=n[t];return e}),{})},this._info.devMode&&this.shell.addClass("jp-mod-devMode"),this.docRegistry.addModelFactory(new h.Base64ModelFactory),e.mimeExtensions)for(const t of C(e.mimeExtensions))this.registerPlugin(t)}get info(){return this._info}get paths(){return this._paths}registerPluginModule(e){let t=e.default;e.hasOwnProperty("__esModule")||(t=e),Array.isArray(t)||(t=[t]),t.forEach((e=>{try{this.registerPlugin(e)}catch(e){this.registerPluginErrors.push(e)}}))}registerPluginModules(e){e.forEach((e=>{this.registerPluginModule(e)}))}}!function(e){e.IInfo=new g.Token("@jupyterlab/application:IInfo","A service providing metadata about the current application, including disabled extensions and whether dev mode is enabled."),e.defaultInfo={devMode:"true"===b.PageConfig.getOption("devMode").toLowerCase(),deferred:{patterns:[],matches:[]},disabled:{patterns:[],matches:[]},mimeExtensions:[],filesCached:"true"===b.PageConfig.getOption("cacheFiles").toLowerCase(),isConnected:!0},e.defaultPaths={urls:{base:b.PageConfig.getOption("baseUrl"),notFound:b.PageConfig.getOption("notFoundUrl"),app:b.PageConfig.getOption("appUrl"),doc:b.PageConfig.getOption("docUrl"),static:b.PageConfig.getOption("staticUrl"),settings:b.PageConfig.getOption("settingsUrl"),themes:b.PageConfig.getOption("themesUrl"),translations:b.PageConfig.getOption("translationsApiUrl"),hubHost:b.PageConfig.getOption("hubHost")||void 0,hubPrefix:b.PageConfig.getOption("hubPrefix")||void 0,hubUser:b.PageConfig.getOption("hubUser")||void 0,hubServerName:b.PageConfig.getOption("hubServerName")||void 0},directories:{appSettings:b.PageConfig.getOption("appSettingsDir"),schemas:b.PageConfig.getOption("schemasDir"),static:b.PageConfig.getOption("staticDir"),templates:b.PageConfig.getOption("templatesDir"),themes:b.PageConfig.getOption("themesDir"),userSettings:b.PageConfig.getOption("userSettingsDir"),serverRoot:b.PageConfig.getOption("serverRoot"),workspaces:b.PageConfig.getOption("workspacesDir")}}}($||($={}));class z{constructor(e){this.stop=new g.Token("@jupyterlab/application:Router#stop"),this._routed=new v.Signal(this),this._rules=new Map,this.base=e.base,this.commands=e.commands}get current(){var e,t;const{base:i}=this,n=b.URLExt.parse(window.location.href),{search:s,hash:r}=n,a=null!==(t=null===(e=n.pathname)||void 0===e?void 0:e.replace(i,"/"))&&void 0!==t?t:"";return{hash:r,path:a,request:a+s+r,search:s}}get routed(){return this._routed}navigate(e,t={}){const{base:i}=this,{history:n}=window,{hard:s}=t,r=document.location.href,a=e&&0===e.indexOf(i)?e:b.URLExt.join(i,e);return a===r?s?this.reload():void 0:(n.pushState({},"",a),s?this.reload():void(t.skipRouting||requestAnimationFrame((()=>{this.route()}))))}register(e){var t;const{command:i,pattern:n}=e,s=null!==(t=e.rank)&&void 0!==t?t:100,r=this._rules;return r.set(n,{command:i,rank:s}),new V.DisposableDelegate((()=>{r.delete(n)}))}reload(){window.location.reload()}route(){const{commands:e,current:t,stop:i}=this,{request:n}=t,s=this._routed,r=this._rules,a=[];r.forEach(((e,t)=>{(null==n?void 0:n.match(t))&&a.push(e)}));const o=a.sort(((e,t)=>t.rank-e.rank)),d=new g.PromiseDelegate,l=async()=>{if(!o.length)return s.emit(t),void d.resolve(void 0);const{command:r}=o.pop();try{const n=this.current.request;await e.execute(r,t)===i&&(o.length=0,console.debug(`Routing ${n} was short-circuited by ${r}`))}catch(e){console.warn(`Routing ${n} to ${r} failed`,e)}l()};return l(),d.promise}}const J=new g.Token("@jupyterlab/application:IConnectionLost",'A service for invoking the dialog shown\n  when JupyterLab has lost its connection to the server. Use this if, for some reason,\n  you want to bring up the "connection lost" dialog under new circumstances.'),K=new g.Token("@jupyterlab/application:ILabStatus",'A service for interacting with the application busy/dirty\n  status. Use this if you want to set the application "busy" favicon, or to set\n  the application "dirty" status, which asks the user for confirmation before leaving the application page.'),Y=new g.Token("@jupyterlab/application:IRouter","The URL router used by the application. Use this to add custom URL-routing for your extension (e.g., to invoke a command if the user navigates to a sub-path)."),Q=new g.Token("@jupyterlab/application:ITreePathUpdater","A service to update the tree path.");function X(e,t,i,n){const{commands:s,shell:r}=e,a=Array.isArray(t)?t:[t];return{label:d("label"),caption:d("caption"),isEnabled:()=>{var e;const t=o("isEnabled");return t.length>0&&!t.some((e=>!1===e))||null!==(e=i.isEnabled)&&void 0!==e&&e},isToggled:()=>{var e;return o("isToggled").some((e=>!0===e))||null!==(e=i.isToggled)&&void 0!==e&&e},isVisible:()=>{var e;const t=o("isVisible");return t.length>0&&!t.some((e=>!1===e))||null===(e=i.isVisible)||void 0===e||e},execute:async()=>{const e=r.currentWidget,t=a.map((t=>null!==e?t.getActiveCommandId(e):null)).filter((e=>null!==e&&s.isEnabled(e)));let n=null;if(t.length>0){for(const e of t)if(n=await s.execute(e),"boolean"==typeof n&&!1===n)break}else i.execute&&(n=await s.execute(i.execute));return n}};function o(e){const t=r.currentWidget;return a.map((e=>null!==t?e.getActiveCommandId(t):null)).filter((e=>null!==e)).map((t=>s[e](t)))}function d(e){return()=>{var t;const s=o(e).map(((t,i)=>"caption"==e&&i>0?t.toLocaleLowerCase():t));switch(s.length){case 0:return null!==(t=i[e])&&void 0!==t?t:"";case 1:return s[0];default:{const e=s.some((e=>/$/.test(e))),t=s.slice(void 0,-1).map((e=>e.replace(/$/,""))).join(", "),i=s.slice(-1)[0].replace(/$/,"")+(e?"":"");return n.__("%1 and %2",t,i)}}}}}},82361:(e,t,i)=>{i.r(t),i.d(t,{Debouncer:()=>d,Poll:()=>a,RateLimiter:()=>o,Throttler:()=>l});var n,s=i(50558),r=i(53968);class a{constructor(e){var t;this._disposed=new r.Signal(this),this._lingered=0,this._tick=new s.PromiseDelegate,this._ticked=new r.Signal(this),this._factory=e.factory,this._linger=null!==(t=e.linger)&&void 0!==t?t:n.DEFAULT_LINGER,this._standby=e.standby||n.DEFAULT_STANDBY,this._state={...n.DEFAULT_STATE,timestamp:(new Date).getTime()};const i=e.frequency||{},a=Math.max(i.interval||0,i.max||0,n.DEFAULT_FREQUENCY.max);this.frequency={...n.DEFAULT_FREQUENCY,...i,max:a},this.name=e.name||n.DEFAULT_NAME,"auto"in e&&!e.auto||setTimeout((()=>this.start()))}get disposed(){return this._disposed}get frequency(){return this._frequency}set frequency(e){if(this.isDisposed||s.JSONExt.deepEqual(e,this.frequency||{}))return;let{backoff:t,interval:i,max:n}=e;if(i=Math.round(i),n=Math.round(n),"number"==typeof t&&t<1)throw new Error("Poll backoff growth factor must be at least 1");if((i<0||i>n)&&i!==a.NEVER)throw new Error("Poll interval must be between 0 and max");if(n>a.MAX_INTERVAL&&n!==a.NEVER)throw new Error(`Max interval must be less than ${a.MAX_INTERVAL}`);this._frequency={backoff:t,interval:i,max:n}}get isDisposed(){return"disposed"===this.state.phase}get standby(){return this._standby}set standby(e){this.isDisposed||this.standby===e||(this._standby=e)}get state(){return this._state}get tick(){return this._tick.promise}get ticked(){return this._ticked}async*[Symbol.asyncIterator](){for(;!this.isDisposed;)yield this.state,await this.tick.catch((()=>{}))}dispose(){this.isDisposed||(this._state={...n.DISPOSED_STATE,timestamp:(new Date).getTime()},this._tick.promise.catch((e=>{})),this._tick.reject(new Error(`Poll (${this.name}) is disposed.`)),this._disposed.emit(void 0),r.Signal.clearData(this))}refresh(){return this.schedule({cancel:({phase:e})=>"refreshed"===e,interval:a.IMMEDIATE,phase:"refreshed"})}async schedule(e={}){if(this.isDisposed)return;if(e.cancel&&e.cancel(this.state))return;const t=this._tick,i=new s.PromiseDelegate,n={interval:this.frequency.interval,payload:null,phase:"standby",timestamp:(new Date).getTime(),...e};this._state=n,this._tick=i,clearTimeout(this._timeout),this._ticked.emit(this.state),t.resolve(this),await t.promise,n.interval!==a.NEVER?this._timeout=setTimeout((()=>{this.isDisposed||this.tick!==i.promise||this._execute()}),n.interval):this._timeout=void 0}start(){return this.schedule({cancel:({phase:e})=>"constructed"!==e&&"standby"!==e&&"stopped"!==e,interval:a.IMMEDIATE,phase:"started"})}stop(){return this.schedule({cancel:({phase:e})=>"stopped"===e,interval:a.NEVER,phase:"stopped"})}get hidden(){return n.hidden}_execute(){let e="function"==typeof this.standby?this.standby():this.standby;if("never"===e?e=!1:"when-hidden"===e&&(this.hidden?e=++this._lingered>this._linger:(this._lingered=0,e=!1)),e)return void this.schedule();const t=this.tick;this._factory(this.state).then((e=>{this.isDisposed||this.tick!==t||this.schedule({payload:e,phase:"rejected"===this.state.phase?"reconnected":"resolved"})})).catch((e=>{this.isDisposed||this.tick!==t||this.schedule({interval:n.sleep(this.frequency,this.state),payload:e,phase:"rejected"})}))}}!function(e){e.IMMEDIATE=0,e.MAX_INTERVAL=2147483647,e.NEVER=1/0}(a||(a={})),function(e){e.DEFAULT_BACKOFF=3,e.DEFAULT_FREQUENCY={backoff:!0,interval:1e3,max:3e4},e.DEFAULT_LINGER=1,e.DEFAULT_NAME="unknown",e.DEFAULT_STANDBY="when-hidden",e.DEFAULT_STATE={interval:a.NEVER,payload:null,phase:"constructed",timestamp:new Date(0).getTime()},e.DISPOSED_STATE={interval:a.NEVER,payload:null,phase:"disposed",timestamp:new Date(0).getTime()},e.sleep=function(t,i){const{backoff:n,interval:s,max:r}=t;if(s===a.NEVER)return s;const o=!0===n?e.DEFAULT_BACKOFF:!1===n?1:n,d=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}(s,i.interval*o);return Math.min(r,d)},e.hidden="undefined"!=typeof document&&(document.addEventListener("visibilitychange",(()=>{e.hidden="hidden"===document.visibilityState})),document.addEventListener("pagehide",(()=>{e.hidden="hidden"===document.visibilityState})),"hidden"===document.visibilityState)}(n||(n={}));class o{constructor(e,t=500){this.args=void 0,this.payload=null,this.limit=t,this.poll=new a({auto:!1,factory:async()=>{const{args:t}=this;return this.args=void 0,e(...t)},frequency:{backoff:!1,interval:a.NEVER,max:a.NEVER},standby:"never"}),this.payload=new s.PromiseDelegate,this.poll.ticked.connect(((e,t)=>{const{payload:i}=this;return"resolved"===t.phase?(this.payload=new s.PromiseDelegate,void i.resolve(t.payload)):"rejected"===t.phase||"stopped"===t.phase?(this.payload=new s.PromiseDelegate,i.promise.catch((e=>{})),void i.reject(t.payload)):void 0}),this)}get isDisposed(){return null===this.payload}dispose(){this.isDisposed||(this.args=void 0,this.payload=null,this.poll.dispose())}async stop(){return this.poll.stop()}}class d extends o{invoke(...e){return this.args=e,this.poll.schedule({interval:this.limit,phase:"invoked"}),this.payload.promise}}class l extends o{constructor(e,t){super(e,"number"==typeof t?t:t&&t.limit),this._trailing=!1,"number"!=typeof t&&t&&"trailing"===t.edge&&(this._trailing=!0),this._interval=this._trailing?this.limit:a.IMMEDIATE}invoke(...e){const t="invoked"!==this.poll.state.phase;return(t||this._trailing)&&(this.args=e),t&&this.poll.schedule({interval:this._interval,phase:"invoked"}),this.payload.promise}}}}]);