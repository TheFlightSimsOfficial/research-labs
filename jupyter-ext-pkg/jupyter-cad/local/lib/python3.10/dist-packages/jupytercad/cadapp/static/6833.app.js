"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[6833],{66833:(e,t,i)=>{i.r(t),i.d(t,{makeJSONObjectField:()=>n});var r=i(21559),a=i(82754),o=i(50730),s=i(50558);function n(e){return class extends e{constructor(){super(...arguments),this.onReset=()=>{this._editor.getDoc().setValue(JSON.stringify(this.props.formData,null,2))},this.onSave=()=>{this.props.onChange(this.state.editorValue)},this.onChange=(e,t,i)=>{try{const e=JSON.parse(i);this.setState({editorValue:e,editorError:!1})}catch(e){this.setState({editorValue:null,editorError:!0})}}}render(){const{uiSchema:e,formData:t,idSchema:i,name:s,registry:n=a.P.getDefaultRegistry()}=this.props,{definitions:l}=n,c=a.P.retrieveSchema(this.props.schema,l,t);let d;d=this.state.wasPropertyKeyModified||void 0===c.title?s:c.title;const u=!!document.querySelector('body[data-jp-theme-light="true"]'),h=e["ui:description"]||c.description,{canSave:m}=this,p={mode:"application/json",theme:u?"default":"zenburn",matchBrackets:!0,autoCloseBrackets:!0};return r.createElement(r.Fragment,null,r.createElement("legend",null,d),r.createElement("p",{className:"field-description"},h),r.createElement("div",{className:"jp-SchemaForm-JSONObject-buttons"},r.createElement("button",{id:`${i.$id}_revert`,className:"jp-JSONEditor-revertButton",title:"Revert to Previous Notebook Metadata",onClick:this.onReset}),r.createElement("button",{id:`${i.$id}_commit`,disabled:!m,className:"jp-JSONEditor-commitButton",title:"Commit to Notebook Metadata",onClick:this.onSave})),r.createElement("div",{id:i.$id},r.createElement(o.Rt,{editorDidMount:e=>this._editor=e,value:JSON.stringify(t,null,2),options:p,onChange:this.onChange})))}get canSave(){return!this.state.editorError&&this.state.editorValue&&!s.JSONExt.deepEqual(this.state.editorValue,this.props.formData)}}}}}]);